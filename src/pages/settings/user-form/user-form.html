<!--
  Generated template for the ConfigUserPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>config/user form</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>


  <form [formGroup]="userForm">
    <ion-list>

      <ion-item-divider>Informations</ion-item-divider>

      <ion-item>
        <ion-label>Birthday</ion-label>
        <ion-datetime display-format="DD-MMM-YYYY" placeholder="Date" formControlName="birthday"></ion-datetime>
      </ion-item>
      <ion-item formGroupName="name">
        <ion-label>First</ion-label>
        <ion-input formControlName="first"></ion-input>
      </ion-item>
      <ion-item formGroupName="name">
        <ion-label>Last</ion-label>
        <ion-input formControlName="last"></ion-input>
      </ion-item>
    </ion-list>

    <ion-list formArrayName="address" *ngFor="let add of userForm.get('address').controls; let ind = index;">
      <ion-item-divider>Address {{ ind + 1 }} <button ion-button color="danger" (click)="buttonDeleteAddress(ind)">Delete</button></ion-item-divider>
      <ion-item [formGroupName]="ind">
        <ion-input placeholder="Street" formControlName="street">
        </ion-input>
      </ion-item>
      <ion-item [formGroupName]="ind">
        <ion-input placeholder="City" formControlName="city">
        </ion-input>
      </ion-item>
      <ion-item [formGroupName]="ind">
        <ion-input placeholder="Country" formControlName="country">
        </ion-input>
      </ion-item>
    </ion-list>

    <!-- <div [formGroupName]="name">
        <div>
            <input matInput placeholder='lastname' formControlName="last" name="last">
        </div>

        <div>
            <input matInput placeholder='firstname' formControlName="first" name="first">
        </div>
      </div>
 -->
    <button ion-button full (click)="buttonAddAddress()">Ajouter une ligne</button>
    <button ion-button full [disabled]="!userForm.valid" (click)="buttonSubmitForm()">Enregistrer</button>
  </form>



</ion-content>